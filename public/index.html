<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random PDF Explorer</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Discover freely available PDF resources from around the web. Filter by category, tags, or search terms.">
    <meta name="author" content="Maurice Gaston, Claude https://claude.ai">
</head>
<body>
    <div class="rpdf-container">
        <header class="rpdf-header">
            <h1 class="rpdf-title">Random PDF Explorer</h1>
            <p class="rpdf-intro">Discover freely available PDF resources from around the web.</p>
        </header>
        
        <button id="randomButton" class="rpdf-btn rpdf-btn-center">Show Me a Random PDF</button>
        
        <div id="loadingIndicator" class="rpdf-loading hidden">
            <div class="rpdf-spinner"></div>
            <p>Finding a random PDF...</p>
        </div>
        
        <div id="errorDisplay" class="rpdf-error hidden"></div>
        
        <div id="pdfDisplay" class="rpdf-pdf-display hidden">
            <h2 id="pdfTitle" class="rpdf-pdf-title"></h2>
            <div class="rpdf-pdf-meta">
                <p id="pdfAuthor"></p>
                <p>Source: <span id="pdfDomain"></span></p>
                <p id="pdfDate"></p>
                <p id="pdfPages" class="rpdf-optional-meta"></p>
                <p id="pdfYear" class="rpdf-optional-meta"></p>
                <p id="pdfQuery" class="rpdf-optional-meta"></p>
            </div>
            <p id="pdfLink" class="rpdf-btn rpdf-btn-link">View PDF</p>
            <!-- <button id="reportButton" class="rpdf-btn rpdf-report-btn hidden">Report Issue</button> -->
        </div>
        
        <div id="reportForm" class="rpdf-report-form hidden">
            <h3>Report an Issue</h3>
            <form id="issueReportForm">
                <input type="hidden" id="reportPdfId" name="pdfId">
                <input type="hidden" id="reportPdfTitle" name="pdfTitle">
                <div class="rpdf-form-group">
                    <label for="issueType">Issue Type:</label>
                    <select id="issueType" name="issueType" required>
                        <option value="">Select an issue</option>
                        <option value="broken">Broken Link</option>
                        <option value="inappropriate">Inappropriate Content</option>
                        <option value="copyright">Copyright Concern</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="rpdf-form-group">
                    <label for="issueDescription">Description:</label>
                    <textarea id="issueDescription" name="description" rows="3" required></textarea>
                </div>
                <div class="rpdf-form-actions">
                    <button type="submit" class="rpdf-btn">Submit Report</button>
                    <button type="button" id="closeReport" class="rpdf-btn rpdf-btn-secondary">Cancel</button>
                </div>
            </form>
        </div>
        
        <div class="help-section">
            <h2>Help & Tips</h2>
            
            <div class="help-content">
                <h3>Using Filters</h3>
                <p>You can filter the PDFs by using the filters section at the top of the page:</p>
                <ul>
                    <li><strong>Search:</strong> Enter search terms to find PDFs with matching titles or descriptions.</li>
                    <li><strong>Categories:</strong> Check the boxes next to categories you want to include.</li>
                    <li><strong>Tags:</strong> Check one or more tags to filter PDFs by specific tags.</li>
                </ul>
                <p>Each filter section displays a checkmark when filters are active. You can toggle sections open or closed to save space.</p>
                
                <h3>Selection Tips</h3>
                <ul>
                    <li>Check multiple categories or tags to see PDFs that match any of them.</li>
                    <li>Click "All Categories" to clear category selections.</li>
                    <li>When a filter is active, it will have a badge showing how many items are selected.</li>
                    <li>Use the "Clear Filters" button to reset all selections at once.</li>
                </ul>
                
                <h3>URL Parameters</h3>
                <p>You can also use URL parameters to directly access filtered results:</p>
                <ul>
                    <li><code>?categories=ai,programming</code> - Show PDFs from multiple categories</li>
                    <li><code>?category=security</code> - Show PDFs from a single category (for backward compatibility)</li>
                    <li><code>?tags=javascript,web-development</code> - Show PDFs with specific tags</li>
                    <li><code>?search=machine learning</code> - Show PDFs matching search terms</li>
                </ul>
                
                <h3>Examples</h3>
                <div class="example-links">
                    <a href="?categories=ai,programming">AI & Programming PDFs</a>
                    <a href="?tags=security,networking">Security & Networking PDFs</a>
                    <a href="?search=machine learning">Machine Learning PDFs</a>
                </div>
            </div>
        </div>
        
        <div class="rpdf-settings">
            <button id="resetHistory" class="rpdf-settings-btn">Reset Viewing History</button>
        </div>
        
        <footer class="rpdf-footer">
            <p>This site provides links to freely available PDFs hosted elsewhere on the web.</p>
            <p class="rpdf-credits">Developed by Maurice Gaston with assistance from Claude.</p>
        </footer>
    </div>
    
    <script>
        // Environment configuration
        window.RPDF_CONFIG = {
            // Default to production settings
            dataPath: 'data/pdf-data.json',
            debug: false,
            maxHistorySize: 50,
            ui: {
                showCategories: true,
                showTags: true,
                maxDisplayedCategories: 5
            },
            enableUrlParameters: true
        };
        
        // Dev environment override
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            window.RPDF_CONFIG.dataPath = 'data/pdf-data.json';
            window.RPDF_CONFIG.debug = true;
        }
    </script>
    <script src="js/app.js"></script>
</body>
</html>